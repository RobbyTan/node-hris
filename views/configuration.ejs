<% include partials/attendanceHeader%>
<h1>Configuration</h1>
<!-- Default input -->
<form id="formMaxTime">
	<div class="row" style="padding-top: 20px">
		<div class="col-6">
			<label for="inputTime">Set Dosen Tidak Tetap Maximum Time :</label>
		</div>
		<div class="col-6">
		</div>
	</div>
	<div class="row">
		<div class="col-lg-2">
			<div class="input-group clockpicker">
				<input type="text" id="txtMaxTime" name="maxTime" pattern="^([0-1][0-9]|2[0-3]):([0-5][0-9])$" class="form-control" value="<%= configuration.dosenTidakTetapMaxTime %>" placeholder="HH:mm">
			</div>
		</div>
	</div>
	<button type="submit" class="btn btn-md btn-primary btn-rounded" id="btnSave" style="margin-top: 20px">Save Settings</button>
	</form>

	<script type="text/javascript" src="/scripts/bootstrap-clockpicker.min.js"></script>
	<script type="text/javascript">
		$('.clockpicker').clockpicker({
			autoclose: true,
			placement: 'bottom',
			donetext: 'Done'
		});
		$('#formMaxTime').on('submit',function(error){
			error.preventDefault();
			var maxTime = {
				maxTime: $('#txtMaxTime').val()
			}
			console.log(maxTime)
			$.ajax({
				type:'POST',
				url : '/api/configurationDosenMaxTime',
				headers : maxTime,
				success : function(data){
					console.log("success");
					toastr.options = {
						"closeButton": false,
						"debug": false,
						"newestOnTop": false,
						"progressBar": false,
						"positionClass": "toast-top-center",
						"preventDuplicates": false,
						"onclick": null,
						"showDuration": 300,
						"hideDuration": 1000,
						"timeOut": 3000,
						"extendedTimeOut": 1000,
						"showEasing": "swing",
						"hideEasing": "linear",
						"showMethod": "fadeIn",
						"hideMethod": "fadeOut"
					}
					toastr.info('Settings Updated');
				},
				error : function(){
					console.log("error")
				}
			})
		})

	</script>

	<% include partials/attendanceFooter%>
